This README file contains information on the contents of the meta-tangleid layer.

Please see the corresponding sections below for details.

# Dependencies

```
URI : git://git.openembedded.org/openembedded-core
layer : meta
recipes : bash curl 
```

# Table of Contents

  1. Quick usage
  2. Config variables
  3. Example

### 1. Quick usage

- Add layers
`$ bitbake-layers add-layer {meta-tangleid directory path}`
- Build image
`$ bitbake {image recipe}`
- Install tangleid cli in image

### 2. Config variables

- `TANGLEID_UUID`
  - setting UUID, default UUID is generated by MAC addres
- `TANGLEID_BACKEND`
  - setting TangleID API server

### 3. Example

- Prepare yocto tools

[Yocto Quick Start](https://www.yoctoproject.org/docs/2.4.2/yocto-project-qs/yocto-project-qs.html)

- Prepare build directory

```
$ cd {yocto directory}
$ source oe-init-build-env
```

`oe-init-build-env` will create `build` dir in default
You can use `$ source oe-init-build-env {directory name}`

- Add layers

```
$ bitbake-layers add-layer {meta-tangleid directory path}
```

`bitbake` parsing recipe of layer, and check dependency

- Check layers

```
$ bitbake-layers show-layers
layer                 path                                      priority
==========================================================================
meta                  $HOME/yocto/poky/meta        5
meta-poky             $HOME/yocto/poky/meta-poky   5
meta-yocto-bsp        $HOME/yocto/poky/meta-yocto-bsp  5
meta-tangleid         $HOME/meta-dltcollab/meta-tangleid  6
```

Also can setting at `{build directory}/conf/bblayers.conf`

- Config layer (optional)

Use text-editer to edit variable and value at `{build directory}/conf/local.conf`
 
e.g.
```shell
TANGLEID_UUID = "THISISTESTUUID"
TANGLEID_BACKEND = "http://node0.puyuma.org:8000"
```

- Build image(recipe)

`$ bitbake core-image-minial`

Take coffee

- Run image with qemu

```shell
$ runqemu qemux86 core-image-minimal
qemux86 login: root
root@qemux86:~$ tangleid UUID
THISISTESTUUID
```